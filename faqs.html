<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FAQs - Crypto Trading Market</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Arial', sans-serif;
    }
    
    body, html {
      height: 100%;
      color: #0c0b0b;
      overflow-x: hidden;
      position: relative;
    }
    
    .background-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
    }
    
    .background-container video {
      min-width: 100%;
      min-height: 100%;
      width: auto;
      height: auto;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      object-fit: cover;
    }
    
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(12, 12, 12, 0.85);
      padding: 10px 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      position: relative;
      z-index: 1;
    }
    
    .logo-title {
      display: flex;
      align-items: center;
    }
    
    .logo-title video {
      width: 50px;
      height: 50px;
      margin-right: 15px;
    }
    
    .logo-title h1 {
      font-size: 28px;
      font-weight: bold;
      color: #2e7d32;
      cursor: pointer;
    }
    
    .nav {
      display: flex;
      gap: 15px;
    }
    
    .nav a {
      color: #2e7d32;
      text-decoration: none;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 4px;
      transition: background 0.3s;
    }
    
    .nav a:hover {
      background: rgba(232, 245, 233, 0.7);
    }
    
    .faq-container {
      max-width: 1000px;
      margin: 30px auto;
      padding: 0 20px 60px;
    }
    
    .faq-header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .faq-header h2 {
      font-size: 32px;
      color: #2e7d32;
      margin-bottom: 15px;
    }
    
    .faq-header p {
      font-size: 16px;
      color: hsl(0, 8%, 95%);
      max-width: 700px;
      margin: 0 auto;
    }
    
    .faq-search {
      margin: 30px 0;
      position: relative;
    }
    
    .faq-search input {
      width: 100%;
      padding: 15px 20px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      background: rgba(255, 255, 255, 0.9);
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .faq-search input:focus {
      outline: none;
      border-color: #2e7d32;
      box-shadow: 0 2px 15px rgba(46, 125, 50, 0.1);
    }
    
    .faq-search i {
      position: absolute;
      right: 20px;
      top: 15px;
      color: #777;
    }
    
    .faq-categories {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
      overflow-x: auto;
      padding-bottom: 10px;
    }
    
    .faq-category {
      padding: 10px 20px;
      background: rgba(46, 125, 50, 0.1);
      border-radius: 20px;
      font-size: 14px;
      font-weight: bold;
      color: #2e7d32;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.3s;
    }
    
    .faq-category:hover, .faq-category.active {
      background: #2e7d32;
      color: white;
    }
    
    .faq-accordion {
      margin-top: 20px;
    }
    
    .faq-item {
      background: rgba(255, 255, 255, 0.8);
      margin-bottom: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      overflow: hidden;
      transition: all 0.3s;
    }
    
    .faq-item:hover {
      background: rgba(255, 255, 255, 0.9);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .faq-question {
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      font-weight: bold;
      font-size: 18px;
    }
    
    .faq-question i {
      transition: transform 0.3s;
    }
    
    .faq-item.active .faq-question i {
      transform: rotate(180deg);
    }
    
    .faq-answer {
      padding: 0 20px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out, padding 0.3s ease;
    }
    
    .faq-item.active .faq-answer {
      padding: 0 20px 20px;
      max-height: 500px;
    }
    
    .faq-contact {
      background: rgba(255, 255, 255, 0.8);
      padding: 30px;
      border-radius: 8px;
      margin-top: 50px;
      text-align: center;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .faq-contact h3 {
      color: #2e7d32;
      margin-bottom: 20px;
      font-size: 24px;
    }
    
    .faq-contact p {
      margin-bottom: 25px;
      color: #555;
      font-size: 16px;
    }
    
    .contact-btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 12px 25px;
      background: #2e7d32;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
      border: none;
      transition: all 0.3s;
    }
    
    .contact-btn:hover {
      background: #1b5e20;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(46, 125, 50, 0.3);
    }
    
    /* Enhanced Modal Styles */
    .contact-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .contact-modal-content {
      background: rgba(255,255,255,0.95);
      padding: 30px;
      border-radius: 10px;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      transform: translateY(0);
      transition: transform 0.3s ease-out;
      max-height: 90vh;
      overflow-y: auto;
    }
    
    .contact-modal.active .contact-modal-content {
      transform: translateY(0);
    }
    
    .contact-modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(46, 125, 50, 0.2);
    }
    
    .contact-modal-header h3 {
      color: #2e7d32;
      font-size: 22px;
      margin: 0;
    }
    
    .close-modal {
      font-size: 28px;
      cursor: pointer;
      color: #777;
      transition: color 0.3s;
    }
    
    .close-modal:hover {
      color: #c62828;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #333;
    }
    
    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 14px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 16px;
      background: rgba(255, 255, 255, 0.9);
      transition: all 0.3s;
    }
    
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      border-color: #2e7d32;
      box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.2);
      outline: none;
    }
    
    .form-group textarea {
      min-height: 150px;
      resize: vertical;
    }
    
    .submit-btn {
      width: 100%;
      padding: 15px;
      background: #2e7d32;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .submit-btn:hover {
      background: #1b5e20;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(46, 125, 50, 0.3);
    }
    
    .submit-btn:disabled {
      background: #cccccc;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    .success-message {
      display: none;
      padding: 20px;
      background: rgba(46, 125, 50, 0.1);
      border-radius: 6px;
      margin-top: 25px;
      text-align: center;
      color: #2e7d32;
      font-weight: bold;
      animation: fadeIn 0.5s ease-out;
    }
    
    .loading-spinner {
      display: none;
      width: 24px;
      height: 24px;
      border: 3px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .file-upload {
      margin-top: 10px;
    }
    
    .file-upload-label {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 15px;
      background: rgba(46, 125, 50, 0.1);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .file-upload-label:hover {
      background: rgba(46, 125, 50, 0.2);
    }
    
    .file-upload input {
      display: none;
    }
    
    .file-name {
      margin-top: 5px;
      font-size: 14px;
      color: #666;
    }
    
    footer {
      text-align: center;
      background: rgba(3, 8, 3, 0.9);
      color: #fff;
      padding: 15px;
      font-size: 14px;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .faq-question {
        font-size: 16px;
        padding: 15px;
      }
      
      .faq-answer {
        font-size: 14px;
      }
      
      .faq-categories {
        gap: 10px;
      }
      
      .faq-category {
        padding: 8px 15px;
        font-size: 13px;
      }
      
      .contact-modal-content {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="background-container">
    <video autoplay muted loop playsinline>
      <source src="https://dl.dropboxusercontent.com/scl/fi/grduhrszolyx2ipyvjm64/Logo.mp4?rlkey=z9xijvc8x9cpjs7o2dq3r533b&st=iuyj95p2" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <header>
    <div class="logo-title">
      <video autoplay muted loop>
        <source src="https://dl.dropboxusercontent.com/scl/fi/grduhrszolyx2ipyvjm64/Logo.mp4?rlkey=z9xijvc8x9cpjs7o2dq3r533b&st=iuyj95p2" type="video/mp4">
      </video>
      <h1 onclick="window.location.href='index.html'">Crypto Trading Market</h1>
    </div>
    <div class="nav">
      <a href="index.html">Home</a>
      <a href="account.html">Settings</a>
      <a href="faqs.html" style="background: rgba(232, 245, 233, 0.3);">FAQs</a>
      <a href="javascript:void(0)" onclick="logoutUser()">Logout</a>
    </div>
  </header>

  <div class="faq-container">
    <div class="faq-header">
      <h2>Frequently Asked Questions</h2>
      <p>Find answers to common questions about our platform, trading strategies, and account management.</p>
    </div>
    
    <div class="faq-search">
      <input type="text" id="faqSearch" placeholder="Search FAQs...">
      <i>üîç</i>
    </div>
    
    <div class="faq-categories">
      <div class="faq-category active">All Questions</div>
      <div class="faq-category">Account</div>
      <div class="faq-category">Trading</div>
      <div class="faq-category">Deposits</div>
      <div class="faq-category">Withdrawals</div>
      <div class="faq-category">Security</div>
    </div>
    
    <div class="faq-accordion" id="faqAccordion">
      <!-- FAQ items will be loaded dynamically -->
      <div class="faq-item" data-category="account">
        <div class="faq-question">
          How do I create an account?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>To create an account, click on the "Sign Up" button in the top navigation. You'll need to provide your email address, create a strong password, and verify your email. After verification, you can complete your profile and start trading.</p>
        </div>
      </div>
      
      <div class="faq-item" data-category="account">
        <div class="faq-question">
          How do I reset my password?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>If you've forgotten your password, click on "Forgot Password" on the login page. Enter your registered email address and you'll receive instructions to reset your password. The link will expire after 24 hours for security reasons.</p>
        </div>
      </div>
      
      <div class="faq-item" data-category="trading">
        <div class="faq-question">
          What is arbitrage trading?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>Arbitrage trading involves taking advantage of price differences for the same asset across different markets. Our platform automatically identifies these opportunities and executes trades to lock in profits from the price discrepancies.</p>
        </div>
      </div>
      
      <div class="faq-item" data-category="trading">
        <div class="faq-question">
          What cryptocurrencies can I trade?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>We support trading for all major cryptocurrencies including Bitcoin (BTC), Ethereum (ETH), Binance Coin (BNB), and over 50 other altcoins. The full list is available in the trading section of your dashboard.</p>
        </div>
      </div>
      
      <div class="faq-item" data-category="deposits">
        <div class="faq-question">
          How do I deposit funds?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>You can deposit funds by navigating to the "Deposit" section in your dashboard. We accept deposits in multiple cryptocurrencies. Simply send your funds to the provided wallet address and they will be credited after blockchain confirmation.</p>
        </div>
      </div>
      
      <div class="faq-item" data-category="deposits">
        <div class="faq-question">
          How long do deposits take to process?
          <i>‚ñº</i>
        </div>
        <div class="faq-answer">
          <p>Cryptocurrency deposits typically require 2-6 network confirmations. Bitcoin deposits usually take 10-30 minutes, while Ethereum and other ERC-20 tokens may take 5-15 minutes. Delays can occur during network congestion.</p>
        </div>
      </div>
    </div>
    
    <div class="faq-contact">
      <h3>Still have questions?</h3>
      <p>Our support team is available 24/7 to help with any questions or issues you may have.</p>
      <button class="contact-btn" id="contactSupportBtn">
        <span>Contact Support</span>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M8 12H16M12 8V16M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Contact Support Modal -->
  <div class="contact-modal" id="contactModal">
    <div class="contact-modal-content">
      <div class="contact-modal-header">
        <h3>Contact Support</h3>
        <span class="close-modal" id="closeModalBtn">&times;</span>
      </div>
      <form id="supportForm">
        <div class="form-group">
          <label for="supportEmail">Email Address</label>
          <input type="email" id="supportEmail" required>
        </div>
        
        <div class="form-group">
          <label for="supportSubject">Subject</label>
          <select id="supportSubject" required>
            <option value="">Select a subject</option>
            <option value="Account Issues">Account Issues</option>
            <option value="Deposit Problems">Deposit Problems</option>
            <option value="Withdrawal Help">Withdrawal Help</option>
            <option value="Trading Questions">Trading Questions</option>
            <option value="Technical Support">Technical Support</option>
            <option value="Security Concern">Security Concern</option>
            <option value="Other">Other</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="supportMessage">Your Message</label>
          <textarea id="supportMessage" required placeholder="Please describe your issue in detail..."></textarea>
        </div>
        
        <div class="form-group">
          <label>Attachments (Optional)</label>
          <div class="file-upload">
            <label class="file-upload-label">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15M17 8L12 3M12 3L7 8M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Choose File</span>
              <input type="file" id="supportAttachment" accept=".jpg,.jpeg,.png,.pdf,.doc,.docx">
            </label>
            <div class="file-name" id="fileName">No file chosen</div>
          </div>
        </div>
        
        <button type="submit" class="submit-btn" id="submitTicketBtn">
          <span>Submit Ticket</span>
          <div class="loading-spinner" id="loadingSpinner"></div>
        </button>
        
        <div class="success-message" id="successMessage">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18455 2.99721 7.13631 4.39828 5.49706C5.79935 3.85781 7.69279 2.71537 9.79619 2.24013C11.8996 1.7649 14.1003 1.98232 16.07 2.86" stroke="#2e7d32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M22 4L12 14.01L9 11.01" stroke="#2e7d32" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <p>Your support ticket has been submitted successfully!</p>
          <p>We'll respond within 24 hours.</p>
        </div>
      </form>
    </div>
  </div>

  <footer>
    ¬© 2025 Crypto Trading Market. All Rights Reserved
  </footer>

  <script>
    // Current user data
    const currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
    const authToken = localStorage.getItem('authToken');

    // DOM Elements
    const contactBtn = document.getElementById('contactSupportBtn');
    const contactModal = document.getElementById('contactModal');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const supportForm = document.getElementById('supportForm');
    const successMessage = document.getElementById('successMessage');
    const submitBtn = document.getElementById('submitTicketBtn');
    const loadingSpinner = document.getElementById('loadingSpinner');
    const fileInput = document.getElementById('supportAttachment');
    const fileNameDisplay = document.getElementById('fileName');
    const faqSearch = document.getElementById('faqSearch');
    const faqCategories = document.querySelectorAll('.faq-category');
    const faqAccordion = document.getElementById('faqAccordion');
    const faqItems = document.querySelectorAll('.faq-item');

    // Initialize FAQ accordion
    function initFAQAccordion() {
      document.querySelectorAll('.faq-question').forEach(question => {
        question.addEventListener('click', () => {
          const item = question.parentNode;
          const isActive = item.classList.contains('active');
          
          // Close all items first
          document.querySelectorAll('.faq-item').forEach(i => {
            i.classList.remove('active');
          });
          
          // Open clicked item if it wasn't active
          if (!isActive) {
            item.classList.add('active');
          }
        });
      });
    }

    // Initialize FAQ search
    function initFAQSearch() {
      faqSearch.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        
        faqItems.forEach(item => {
          const question = item.querySelector('.faq-question').textContent.toLowerCase();
          const answer = item.querySelector('.faq-answer').textContent.toLowerCase();
          
          if (question.includes(searchTerm) || answer.includes(searchTerm)) {
            item.style.display = 'block';
          } else {
            item.style.display = 'none';
          }
        });
      });
    }

    // Initialize FAQ category filtering
    function initFAQCategoryFilter() {
      faqCategories.forEach(category => {
        category.addEventListener('click', () => {
          // Update active category
          faqCategories.forEach(c => c.classList.remove('active'));
          category.classList.add('active');
          
          // Filter FAQs
          const categoryName = category.textContent.trim().toLowerCase();
          faqItems.forEach(item => {
            if (categoryName === 'all questions') {
              item.style.display = 'block';
            } else {
              const itemCategory = item.getAttribute('data-category');
              item.style.display = itemCategory.includes(categoryName) ? 'block' : 'none';
            }
          });
        });
      });
    }

    // Handle file upload display
    fileInput.addEventListener('change', (e) => {
      if (e.target.files.length > 0) {
        fileNameDisplay.textContent = e.target.files[0].name;
      } else {
        fileNameDisplay.textContent = 'No file chosen';
      }
    });

    // Open contact modal
    contactBtn.addEventListener('click', () => {
      contactModal.style.display = 'flex';
      document.body.style.overflow = 'hidden';
      
      // Pre-fill email if user is logged in
      if (currentUser && currentUser.email) {
        document.getElementById('supportEmail').value = currentUser.email;
      }
    });

    // Close contact modal
    function closeModal() {
      contactModal.style.display = 'none';
      successMessage.style.display = 'none';
      document.body.style.overflow = 'auto';
      supportForm.reset();
      fileNameDisplay.textContent = 'No file chosen';
    }

    closeModalBtn.addEventListener('click', closeModal);

    // Close modal when clicking outside
    contactModal.addEventListener('click', (e) => {
      if (e.target === contactModal) {
        closeModal();
      }
    });

    // Handle form submission
    supportForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      // Show loading state
      submitBtn.disabled = true;
      loadingSpinner.style.display = 'block';
      
      // Get form data
      const formData = new FormData();
      formData.append('email', document.getElementById('supportEmail').value);
      formData.append('subject', document.getElementById('supportSubject').value);
      formData.append('message', document.getElementById('supportMessage').value);
      
      if (fileInput.files.length > 0) {
        formData.append('attachment', fileInput.files[0]);
      }
      
      try {
        // Send to backend
        const response = await fetch('/api/support/tickets', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${authToken}`
          },
          body: formData
        });
        
        if (!response.ok) {
          throw new Error(await response.text());
        }
        
        // Show success
        supportForm.reset();
        successMessage.style.display = 'block';
        submitBtn.disabled = false;
        loadingSpinner.style.display = 'none';
        
        // Close modal after 3 seconds
        setTimeout(() => {
          closeModal();
        }, 3000);
      } catch (error) {
        console.error('Error submitting ticket:', error);
        alert('Error submitting ticket. Please try again.');
        submitBtn.disabled = false;
        loadingSpinner.style.display = 'none';
      }
    });

    // Logout function
    function logoutUser() {
      localStorage.removeItem('currentUser');
      localStorage.removeItem('authToken');
      window.location.href = 'login.html';
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', () => {
      initFAQAccordion();
      initFAQSearch();
      initFAQCategoryFilter();
      
      // Ensure video plays on mobile
      document.querySelectorAll('video').forEach(video => {
        video.setAttribute('playsinline', '');
        video.setAttribute('webkit-playsinline', '');
        video.play().catch(e => console.log('Video play prevented:', e));
      });
    });
  </script>
</body>
</html>